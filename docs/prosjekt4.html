<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Raspberry Pi E-ink værvarsel</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Forside</a></h1>
						<nav>
							<a href="#menu">Meny</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Forside</a></li>
								<li><a href="prosjekt2.html">Design | MediaPlayer Box</a></li>
								<li><a href="prosjekt3.html">Arduino | Fuktighetsmåling</a></li>
								<li><a href="prosjekt4.html">Raspberry Pi | E-ink værvarsel</a></li>
								<li><a href="prosjekt5.html">3D printing | vesa adapter hp27er</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Raspberry Pi E-ink værvarsel</h2>
							</div>
						</header>

						<!-- Content -->
							<div class="wrapper">
								<div class="inner">
									<h3 class="major">Utstyr:</h3>						
									<ul>
										<li><a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/" target="_blank" rel="nofollow noopener">Raspberry Pi 3 b</a></li>
										<li><a href="https://www.waveshare.com/wiki/4.3inch_e-Paper_UART_Module" target="_blank" rel="nofollow noopener">4.3inch e-Paper UART Module</a></li>
										<li><a>Dupont jumper wires</a></li>
									</ul>

									<section class="features">
										<article>
											<h3 class="major">Rpi e-ink værvarsel</h3>
											<img class="image" src="images/e-ink.jpg" alt="E-ink display koblet til en raspberry pi 3b" />											
											<p>Jeg har skrevet et python program som med yr sin api henter værmeldinga i json format for Remmen. 
												Raspberry pi'en er koblet til et display fra waveshare som så viser værmeldinga. Værmeldinga og displayet oppdateres hvert 10 minutt.</p>
										</article>
										<article>
											<h3 class="major">Koblingsskjema</h3>
											<img class="image" src="images/koblingsskjema.JPG" alt="koblingsskjema" />											
											<p>Displayet er koblet til raspberry pi etter dette koblingsskjema. Jeg har til vane å bruke orange ledning på 3.3V og rød ledning for 5V</p>
											<p>Dokumentasjon for GPIO (<cite>General Purpose Input/Output</cite>) 
												kan man sjekke på <a href="https://www.raspberrypi.org/documentation/usage/gpio/">raspberry pi sin offisielle side</a></p>
										</article>
										<article>
											<h3 class="major">Waveshare</h3>
											<a href="https://github.com/jarret/raspi-uart-waveshare" class="image"><img src="images/test-cycle-py.png" alt="" /></a>																	
											<p>For å skrive tekst på e-ink displayet, brukte jeg <a href="https://github.com/jarret/raspi-uart-waveshare">dette programmet fra jarret.</a> Filene la jeg inn på raspberry pi'en.</p>
										</article>
										
										<article>
											<h3 class="major">Koden</h3>
											<p>yr_data.py som ligger i mappa yrApi henter daten fra yr.no i json format, og lager variabler av den informasjonen jeg vil ha.
												Slik det er nå kan displayet ikke bruke æøå. Dermed Blir vindrettningen gitt på engelsk. Det er mulig jeg senere implementerer æøå eller viser vindrettningen som piler.
											</p>
											<p>For å endre sted for værmeldinga, sett inn egen høyde- og breddegrad inn på lat lon og alt.  
												Jeg har fjernet min egen user-agent, så finn din egen og sett inn i <kode>"user-agent": "Put your user-agent here"</kode>.
											</p>
											<p>Main filen er 2021_yr.py. Det er denne som bestemmer hva displayet skal vise.</p>
										</article>
										<article>
											<h3 class="major">Oppdateringsfrekvens</h3>
											<img class="image" src="images/crontab -e.JPG" alt="Crontab kode" />											
											<p>Jeg bruker crontab for å kjøre programmet hvert 10 minutt. Skriv <cite>crontab -e</cite> i terminalel. 
											På en ny linje setter du så inn tidsplanen og lokasjonen og navnet til programmet som skal kjøre. Trykk så Ctrl x, og y for å lagre.
										 	<a href="https://www.raspberrypi.org/documentation/linux/usage/cron.md"> Dokumentasjon om crontab finner du hær.</a></p>
										</article>
										<article>
											<h3 class="major">Videre plan</h3>						
											<p>Dette var et prosjekt jeg gjorde for å få bedre forståelse på API og e-ink display i bruk med rpi.
												Det har jeg også fått, men det er en rekke ting jeg tenker kan forbedres etterhvert på dette prosjektet.</p>
											<ol>
												<li>Legge til æ, ø og å.</li>
												<li>Gjør all tekst som vises på displayet til norsk.</li>
												<li>Lage ikoner som viser været.</li>
												<li>Formatere oppdateringstiden.</li>
												<li>Lage piler for vindrettningen.</li>
												<li>Pynte utskriften med litt linjer.</li>
												<li>Oppsumert tekst av været framover.</li>

											</ol>
										</article>

										
									</section>


								</div>
							</div>

					</section>

				<!-- Footer -->
					<section id="footer">
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
		
			

	</body>
</html>